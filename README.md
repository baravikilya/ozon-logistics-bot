# Ozon Logistics Bot

Telegram –±–æ—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–∏—Å—Ç–∏–∫–∏ Ozon –ø—Ä–æ–¥–∞–≤—Ü–æ–≤. MVP –≤–µ—Ä—Å–∏—è –≠—Ç–∞–ø–∞ 1.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.10+
- PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- Telegram Bot Token (–æ—Ç @BotFather)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:**
   ```bash
   cd ozon_bot/
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
   ```bash
   python -m venv venv
   source venv/bin/activate  # Linux/Mac
   # –∏–ª–∏
   venv\Scripts\activate     # Windows
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install -r requirements.txt
   ```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```bash
   cp .env.example .env
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
   ```

5. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
   ```sql
   CREATE DATABASE ozon_bot_db;
   ```

6. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   python main.py
   ```

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ozon_bot/
‚îú‚îÄ‚îÄ core/                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ db.py              # –ú–æ–¥–µ–ª–∏ –ë–î –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ handlers/              # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ Telegram –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py        # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ start.py           # –ö–æ–º–∞–Ω–¥–∞ /start –∏ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ connect.py         # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Ozon API
‚îÇ   ‚îú‚îÄ‚îÄ subscription.py    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π
‚îÇ   ‚îî‚îÄ‚îÄ report.py          # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
‚îú‚îÄ‚îÄ services/              # –í–Ω–µ—à–Ω–∏–µ API —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ ozon_api.py        # Ozon Seller API (–∑–∞–≥–ª—É—à–∫–∞)
‚îÇ   ‚îú‚îÄ‚îÄ yookassa.py        # YooKassa –ø–ª–∞—Ç–µ–∂–∏ (–∑–∞–≥–ª—É—à–∫–∞)
‚îÇ   ‚îî‚îÄ‚îÄ excel_gen.py       # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Excel –æ—Ç—á–µ—Ç–æ–≤
‚îú‚îÄ‚îÄ main.py                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ Amverafile            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Amvera
‚îî‚îÄ‚îÄ .env.example          # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|------------|----------|---------|
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ | `123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11` |
| `DATABASE_URL` | URL PostgreSQL –±–∞–∑—ã | `postgresql+asyncpg://user:pass@localhost/ozon_bot_db` |
| `DEBUG` | –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ | `true` / `false` |
| `TELEGRAM_WEBHOOK_URL` | URL –¥–ª—è –≤–µ–±—Ö—É–∫–æ–≤ (production) | `https://your-domain.amvera.io` |

### –ü–æ–ª–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏

```bash
# –ü–µ—Ä–∏–æ–¥ trial (–¥–Ω–∏)
TRIAL_PERIOD_DAYS=7

# –¶–µ–Ω—ã –ø–æ–¥–ø–∏—Å–∫–∏ (—Ä—É–±)
SUBSCRIPTION_PRICE_1M=919
SUBSCRIPTION_PRICE_6M=4590
SUBSCRIPTION_PRICE_1Y=9190
```

## üîß –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Amvera (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [Amvera.io](https://amvera.io)**
2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
3. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞**
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –ø–∞–Ω–µ–ª–∏ Amvera**
5. **–†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ polling –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
python main.py
```

–î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±—Ö—É–∫–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `TELEGRAM_WEBHOOK_URL`.

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/start`**
2. **–í—ã–±–µ—Ä–∏—Ç–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å Ozon" –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API**
3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø–æ–¥–ø–∏—Å–∫–æ–π**
4. **–ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –æ—Ç—á–µ—Ç—ã –æ –ª–æ–≥–∏—Å—Ç–∏–∫–µ**

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

1. **Handlers**: –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ `handlers/` –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –≤ `__init__.py`
2. **Services**: –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å –≤ `services/` –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö API
3. **Database**: –î–æ–±–∞–≤—å—Ç–µ –º–æ–¥–µ–ª–∏ –≤ `core/db.py`

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ
python main.py

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ Telegram
/start
# –∏ —Ç.–¥.
```

## üìä –≠—Ç–∞–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- **‚úÖ –≠—Ç–∞–ø 1 (MVP)**: –ë–∞–∑–æ–≤—ã–π –∫–∞—Ä–∫–∞—Å —Å UI –∏ –∑–∞–≥–ª—É—à–∫–∞–º–∏
- **üîÑ –≠—Ç–∞–ø 2**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Ozon API
- **üîÑ –≠—Ç–∞–ø 3**: –ü–ª–∞—Ç–µ–∂–∏ —á–µ—Ä–µ–∑ YooKassa
- **üîÑ –≠—Ç–∞–ø 4**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö Excel –æ—Ç—á–µ—Ç–æ–≤

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏:
- –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –ù–∞–ø–∏—à–∏—Ç–µ –≤ Telegram: [@support](https://t.me/support)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è –∑–∞–∫—Ä—ã—Ç—ã–º –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.